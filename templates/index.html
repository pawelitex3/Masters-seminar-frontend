<!DOCTYPE html>
<html lang="pl">

<head>
    <title>Wizualizacja wybranych algorytmów grafowych</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>

    <script src="../static/js/jquery-3.6.0.js"></script>
    <script type="text/javascript" src="../static/js/scripts.js"></script>
</head>

<body>

    <div class="container">

        <!-- Naglowek -->
        <div class="header text-center mt-5 mb-5">
            <h2 class="text-muted">Wizualizacja wybranych algorytmów grafowych</h2>
        </div>

        <!-- Kontent -->
        <div class="row">
            <!-- Lewa strona widoku -->
            <div class="col-lg-6">

                <!-- Lista rozwijana (akordeon) z kolejnymi krokami, przez ktore musi przejsc uzytkownik -->
                <div class="row">
                    <div class="col">
                        <div class="accordion" id="accordionExample">

                            <!-- Wybor typu grafu -->
                            <div class="accordion-item text-center">
                                <h2 class="accordion-header" id="setTypeOfGraphHeading">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#setTypeOfGraphCollapse" aria-expanded="true"
                                        aria-controls="setTypeOfGraphCollapse">
                                        Krok 1: wybierz typ grafu
                                    </button>
                                </h2>
                                <div id="setTypeOfGraphCollapse" class="accordion-collapse collapse show"
                                    aria-labelledby="setTypeOfGraphHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col">
                                                <div class="btn-group" role="group"
                                                    aria-label="Basic radio toggle button group">
                                                    <input type="radio" class="btn-check" name="graphType"
                                                        id="simpleGraph" autocomplete="off" value="Graf prosty" checked>
                                                    <label class="btn btn-outline-primary" for="simpleGraph">Graf
                                                        prosty</label>

                                                    <input type="radio" class="btn-check" name="graphType"
                                                        id="directedGraph" autocomplete="off" value="Digraf prosty">
                                                    <label class="btn btn-outline-primary" for="directedGraph">Digraf
                                                        prosty</label>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <button id="graphTypeButton" class="btn btn-lg btn-success btn-block"
                                                    type="button">Zatwierdź</button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- Ustalenie liczby wierzcholkow -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="setNumberOfVerticesHeading">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#setNumberOfVerticesCollapse" aria-expanded="false"
                                        aria-controls="setNumberOfVerticesCollapse">
                                        Krok 2: ustal liczbę wierzchołków
                                    </button>
                                </h2>
                                <div id="setNumberOfVerticesCollapse" class="accordion-collapse collapse"
                                    aria-labelledby="setNumberOfVerticesHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-6">
                                                <input id="numberOfVerticesInput" type="number" class="form-control">
                                            </div>
                                            <div class="col">
                                                <button id="numberOfVerticesButton"
                                                    class="btn btn-lg btn-success btn-block"
                                                    type="button">Zatwierdź</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Wprowadzanie krawedzi -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="setEdgesHeading">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#setEdgesCollapse" aria-expanded="false"
                                        aria-controls="setEdgesCollapse">
                                        Krok 3: wstaw krawędzie do grafu
                                    </button>
                                </h2>
                                <div id="setEdgesCollapse" class="accordion-collapse collapse"
                                    aria-labelledby="setEdgesHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">

                                        <!-- Wybor sposobu wprowadzenia krawedzi -->
                                        <div class="row text-center">
                                            <div class="col">
                                                <button id="setEdgesManuallyButton"
                                                    class="btn btn-lg btn-primary btn-block">Wprowadź ręcznie</button>
                                            </div>
                                            <div class="col">
                                                <button id="setClassOfGraphButton"
                                                    class="btn btn-lg btn-primary btn-block">Wybierz klasę
                                                    grafu</button>
                                            </div>
                                        </div>

                                        <!-- Wprowadzanie krawedzi recznie -->
                                        <div class="row mt-4" id="setEdgesManually" hidden>
                                            <div class="col">
                                                <div class="row">
                                                    <div class="col-6">
                                                        Początek krawędzi:
                                                    </div>
                                                    <div class="col-2">

                                                    </div>
                                                    <div class="col-4">
                                                        <input id="beginning" type="number" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="row mt-1">
                                                    <div class="col-6">
                                                        Koniec krawędzi:
                                                    </div>
                                                    <div class="col-2"></div>
                                                    <div class="col-4">
                                                        <input id="end" type="number" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="row mt-1">
                                                    <div class="col-6">
                                                        Waga:
                                                    </div>
                                                    <div class="col-2"></div>
                                                    <div class="col-4">
                                                        <input id="weight" type="number" class="form-control" value="1">
                                                    </div>
                                                </div>
                                                <div class="row mt-4 text-center">
                                                    <div class="col">
                                                        <button id="addEdgeButton"
                                                            class="btn btn-lg btn-success btn-block">Dodaj
                                                            krawędź</button>
                                                    </div>
                                                    <div class="col">
                                                        <button id="randEdgeButton"
                                                            class="btn btn-lg btn-success btn-block">Losuj
                                                            krawędź</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Wprowadzenie krawedzi poprzez wybor klasy grafu -->
                                        <div class="row" id="setClassOfGraph" hidden>
                                            <div class="col">
                                                <div class="row mt-4 text-center">
                                                    <div class="col">
                                                        <div class="btn-group" role="group"
                                                            aria-label="Basic radio toggle button group">
                                                            <input type="radio" class="btn-check" name="classOfGraph"
                                                                id="random" autocomplete="off"
                                                                value="Graf losowy" checked>
                                                            <label class="btn btn-outline-primary" for="random">Graf
                                                                losowy</label>
                                                            <input type="radio" class="btn-check" name="classOfGraph"
                                                                id="complete" autocomplete="off"
                                                                value="Graf pełny">
                                                            <label class="btn btn-outline-primary" for="complete">Graf
                                                                pełny</label>
                                                            <input type="radio" class="btn-check" name="classOfGraph"
                                                                id="pathGraph" autocomplete="off"
                                                                value="Ścieżka (path graph)">
                                                            <label class="btn btn-outline-primary"
                                                                for="pathGraph">Ścieżka (path graph)</label>
                                                            <input type="radio" class="btn-check" name="classOfGraph"
                                                                id="3regular" autocomplete="off"
                                                                value="Graf 3-regularny">
                                                            <label class="btn btn-outline-primary" for="3regular">Graf
                                                                3-regularny</label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row mt-4 text-center">
                                                    <div class="col">
                                                        <button id="confirmClassOfGraphButton"
                                                            class="btn btn-lg btn-success btn-block"
                                                            type="button">Zatwierdź</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Wybor algorytmu do wizualizacji -->
                            <div class="accordion-item text-center">
                                <h2 class="accordion-header" id="setAlgorithmHeading">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#setAlgorithmCollapse" aria-expanded="false"
                                        aria-controls="setAlgorithmCollapse">
                                        Krok 4: wybierz algorytm
                                    </button>
                                </h2>
                                <div id="setAlgorithmCollapse" class="accordion-collapse collapse"
                                    aria-labelledby="setAlgorithmHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col">
                                                <div class="btn-group btn-group-vertical" role="group"
                                                    aria-label="Basic radio toggle button group">
                                                    <input type="radio" class="btn-check" name="algorithmType" id="bfs"
                                                        autocomplete="off" value="Przeszukiwanie wszerz (BFS)" checked>
                                                    <label class="btn btn-outline-primary" for="bfs">Przeszukiwanie
                                                        wszerz
                                                        (BFS)</label>

                                                    <input type="radio" class="btn-check" name="algorithmType" id="dfs"
                                                        autocomplete="off" value="Przeszukiwanie w głąb (DFS)">
                                                    <label class="btn btn-outline-primary" for="dfs">Przeszukiwanie w
                                                        głąb
                                                        (DFS)</label>

                                                    <input type="radio" class="btn-check" name="algorithmType"
                                                        id="dijkstra" autocomplete="off" value="Algorytm Dijkstry">
                                                    <label class="btn btn-outline-primary" for="dijkstra">Algorytm
                                                        Dijkstry</label>

                                                    <input type="radio" class="btn-check" name="algorithmType"
                                                        id="bellmanFord" autocomplete="off"
                                                        value="Algorytm Bellmana-Forda">
                                                    <label class="btn btn-outline-primary" for="bellmanFord">Algorytm
                                                        Bellmana-Forda</label>

                                                    <input type="radio" class="btn-check" name="algorithmType"
                                                        id="kruskal" autocomplete="off" value="Algorytm Kruskala">
                                                    <label class="btn btn-outline-primary" for="kruskal">Algorytm
                                                        Kruskala</label>

                                                    <input type="radio" class="btn-check" name="algorithmType" id="prim"
                                                        autocomplete="off" value="Algorytm Prima">
                                                    <label class="btn btn-outline-primary" for="prim">Algorytm
                                                        Prima</label>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <button id="algorithmTypeButton"
                                                    class="btn btn-lg btn-success btn-block">Zatwierdź</button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- Ustalenie wierzcholka startowego -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="startVertexHeading">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#startVertexCollapse" aria-expanded="false"
                                        aria-controls="startVertexCollapse">
                                        Krok 5: wybierz wierzchołek startowy (Nie dotyczy algorytmu Kruskala)
                                    </button>
                                </h2>
                                <div id="startVertexCollapse" class="accordion-collapse collapse"
                                    aria-labelledby="startVertexHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-6">
                                                <input id="startVertex" type="number" class="form-control" value="0">
                                            </div>
                                            <div class="col">

                                                <button id="addStartVertex" class="btn btn-lg btn-success btn-block"
                                                    type="button">Zatwierdź</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Ostatni krok - rysowanie grafu lub resetowanie ustawien -->
                            <div class="accordion-item text-center">
                                <h2 class="accordion-header" id="drawGraphHeading">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#drawGraphCollapse" aria-expanded="false"
                                        aria-controls="drawGraphCollapse">
                                        Krok 6: symuluj działanie algorytmu
                                    </button>
                                </h2>
                                <div id="drawGraphCollapse" class="accordion-collapse collapse"
                                    aria-labelledby="drawGraphHeading" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col">
                                                <button id="draw" class="btn btn-lg btn-success btn-block">Rysuj
                                                    symulację</button>
                                            </div>
                                            <div class="col-1">
                                                <div class="spinner-border" role="status" style="width: 30px;"
                                                    id="loadingSpinner" hidden>
                                                    <span class="sr-only"></span>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <button id="reset" class="btn btn-lg btn-danger btn-block">Resetuj
                                                    ustawienia</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Wyswietlanie wlasciwosci grafu -->
                <div hidden id="graphProperties" class="row mt-5">
                    <div class="col">

                        <!-- Typ grafu -->
                        <div class="row">
                            <div class="col-5">
                                <h4>
                                    Typ grafu:
                                </h4>
                            </div>
                            <div class="col">
                                <h4 id="graphTypeLabel">

                                </h4>
                            </div>
                        </div>

                        <!-- Liczba wierzcholkow -->
                        <div class="row mt-3">
                            <div class="col-5">
                                <h4>
                                    Liczba wierzchołków:
                                </h4>
                            </div>
                            <div class="col">
                                <h4 id="numberOfVerticesLabel">

                                </h4>
                            </div>
                        </div>

                        <!-- Wybrany algorytm -->
                        <div class="row mt-3">
                            <div class="col-5">
                                <h4>
                                    Wybrany algorytm:
                                </h4>
                            </div>
                            <div class="col">
                                <h4 id="algorithmLabel">

                                </h4>
                            </div>
                        </div>

                        <!-- Wierzcholek startowy -->
                        <div class="row mt-3">
                            <div class="col-5">
                                <h4>
                                    Wierzchołek startowy
                                </h4>
                            </div>
                            <div class="col">
                                <h4 id="startVertexLabel">

                                </h4>
                            </div>
                        </div>

                        <!-- Klasa grafu -->
                        <div class="row mt-3" id="classOfGraphRow" hidden>
                            <div class="col-5">
                                <h4>
                                    Klasa grafu:
                                </h4>
                            </div>
                            <div class="col">
                                <h4 id="classOfGraphLabel">

                                </h4>
                            </div>
                        </div>

                        <!-- Krawedzi w postaci listy sasiedztwa -->
                        <div class="row mt-3" id="adjacencyListTableRow" hidden>
                            <div class="col">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">Nr wierzchołka</th>
                                            <th scope="col">Lista sąsiadów (waga)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adjacencyListTable">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prawa strona widoku -->
            <div class="col-lg-6">
                <div class="row">
                    <img id="graph" src="../static/images/img.png" alt="img_1" class="border border-dark">
                </div>

                <!-- Przyciski nawigacyjne miedzy kolejnymi krokami oraz licznik krokow -->
                <div class="row mt-4">

                    <!-- Przycisk poprzedni krok -->
                    <div class="col-4 text-center">
                        <button type="button" id="previous" class="btn btn-primary btn-lg" disabled>Poprzedni
                            krok</button>
                    </div>

                    <!-- Licznik krokow -->
                    <div class="col text-center" id="counter">

                    </div>

                    <!-- Przycisk nastepny krok -->
                    <div class="col-4 text-center">
                        <button type="button" id="next" class="btn btn-primary btn-lg" disabled>Następny krok</button>
                    </div>
                </div>

                <!-- Wyswietlanie opisu aktualnego kroku -->
                <div class="row mt-4">
                    <div id="infoLabel" class="col-3" hidden>
                        <h6>
                            Aktualny stan:
                        </h6>
                    </div>
                    <div class="col">
                        <h6 id="info">

                        </h6>
                    </div>
                </div>

                <!-- Legendy do rysunkow -->

                <!-- Legenda BFS i DFS -->
                <div id="searchLegend" class="row mt-2" hidden>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Wierzchołki</h3>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: black;">

                            </div>
                            <div class="col">
                                wierzchołek nieprzetworzony
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: green;">

                            </div>
                            <div class="col">
                                wierzchołek przetworzony
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: #1261A0;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzany wierzchołek
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: blue;">

                            </div>
                            <div class="col">
                                wierzchołek dodany do kolejki - oczekujący na przetworzenie
                            </div>

                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Krawędzie</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: black;">

                            </div>
                            <div class="col">
                                krawędź nieprzetworzona
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: green;">

                            </div>
                            <div class="col">
                                krawędź przetworzona i dodana do drzewa wynikowego
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: red;">

                            </div>
                            <div class="col">
                                krawędź przetworzona i niedodana do drzewa wynikowego
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: blue;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzana krawędź
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Legenda do algorytmu Kruskala oraz Prima-Dijkstry -->
                <div id="mstLegend" class="row mt-2" hidden>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Wierzchołki</h3>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: black;">

                            </div>
                            <div class="col">
                                wierzchołek niedodany do grafu wynikowego
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: green;">

                            </div>
                            <div class="col">
                                wierzchołek dodany do grafu wynikowego
                            </div>

                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Krawędzie</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: black;">

                            </div>
                            <div class="col">
                                krawędź nieprzetworzona
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: green;">

                            </div>
                            <div class="col">
                                krawędź przetworzona i dodana do grafu wynikowego
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: red;">

                            </div>
                            <div class="col">
                                krawędź przetworzona i niedodana do grafu wynikowego
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: blue;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzana krawędź
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Legenda do algorytmu Dijkstry -->
                <div id="dijkstraLegend" class="row mt-2" hidden>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Wierzchołki</h3>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: black;">

                            </div>
                            <div class="col">
                                wierzchołek niedodany do drzewa wynikowego
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: green;">
                            </div>
                            <div class="col">
                                wierzchołek dodany do drzewa wynikowego
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Krawędzie</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: blue;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzana krawędź
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: black;">

                            </div>
                            <div class="col">
                                krawędź aktualnie nieprzetwarzana
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: green;">

                            </div>
                            <div class="col">
                                krawędź dodana do drzewa wynikowego
                            </div>
                        </div>                        
                    </div>

                </div>

                <!-- Legenda do algorytmu Bellmana-Forda -->
                <div id="bellmanFordLegend" class="row mt-2" hidden>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Wierzchołki</h3>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: black;">

                            </div>
                            <div class="col">
                                wierzchołek aktualnie nieprzetwarzany
                            </div>

                        </div>
                        <div class="row mt-2">
                            <div class="col-2 rounded-circle"
                                style="height: 25px; width: 25px; background-color: green;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzany wierzchołek
                            </div>

                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col text-center">
                                <h3>Krawędzie</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: black;">

                            </div>
                            <div class="col">
                                krawędź aktualnie nieprzetwarzana
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: green;">

                            </div>
                            <div class="col">
                                krawędź dodana do drzewa wynikowego
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2 mt-2" style="height: 5px; background-color: blue;">

                            </div>
                            <div class="col">
                                aktualnie przetwarzana krawędź
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>

</html>